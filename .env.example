# Monolith 环境变量配置示例
# 复制此文件为 .env 并根据需要修改配置

# ===== 基础翻译配置 =====
# 翻译功能开关
MONOLITH_TRANSLATION_BASE_ENABLED=true

# 源语言和目标语言
MONOLITH_TRANSLATION_BASE_SOURCE_LANG=auto
MONOLITH_TRANSLATION_BASE_TARGET_LANG=zh

# DeepLX API 配置
MONOLITH_TRANSLATION_BASE_DEEPLX_API_URL=http://localhost:1188/translate

# API 限制配置
MONOLITH_TRANSLATION_BASE_MAX_REQUESTS_PER_SECOND=5.0
MONOLITH_TRANSLATION_BASE_MAX_TEXT_LENGTH=10000
MONOLITH_TRANSLATION_BASE_MAX_PARAGRAPHS_PER_REQUEST=100

# ===== 批次处理配置 =====
# 批次大小控制
MONOLITH_TRANSLATION_BATCH_MAX_BATCH_SIZE=9000
MONOLITH_TRANSLATION_BATCH_MIN_BATCH_CHARS=2000
MONOLITH_TRANSLATION_BATCH_SMALL_BATCH_THRESHOLD=2

# 批次时间控制（秒）
MONOLITH_TRANSLATION_BATCH_BATCH_DELAY_MS=100
MONOLITH_TRANSLATION_BATCH_BATCH_TIMEOUT=30

# ===== 缓存配置 =====
# 缓存开关
MONOLITH_TRANSLATION_CACHE_ENABLED=true
MONOLITH_TRANSLATION_CACHE_ENABLE_WARMUP=false

# 缓存大小和过期时间
MONOLITH_TRANSLATION_CACHE_LOCAL_CACHE_SIZE=1000
MONOLITH_TRANSLATION_CACHE_TTL=3600

# ===== 性能配置 =====
# 并发控制
MONOLITH_TRANSLATION_PERFORMANCE_MAX_CONCURRENT_REQUESTS=10
MONOLITH_TRANSLATION_PERFORMANCE_ENABLE_PARALLEL_PROCESSING=true
MONOLITH_TRANSLATION_PERFORMANCE_CONNECTION_POOL_SIZE=10

# 工作线程数（可选，留空使用系统默认）
# MONOLITH_TRANSLATION_PERFORMANCE_WORKER_THREADS=4

# ===== 监控配置 =====
# 监控开关
MONOLITH_TRANSLATION_MONITORING_ENABLE_METRICS=true
MONOLITH_TRANSLATION_MONITORING_ENABLE_VERBOSE_LOGGING=false

# 监控间隔（秒）
MONOLITH_TRANSLATION_MONITORING_METRICS_INTERVAL=60

# ===== Web 服务器配置 =====
# 服务器绑定地址和端口
WEB_BIND_ADDRESS=127.0.0.1
WEB_PORT=7080

# MongoDB 缓存配置（Web功能）
MONGODB_URL=mongodb://admin:your_password@mongodb.mongodb-html-storage.orb.local:27017/admin
MONGODB_DATABASE=monolith
MONGODB_COLLECTION=html_cache

# ===== 开发环境配置 =====
# 日志级别
RUST_LOG=info

# 开发模式配置
DEV_MODE=false
DEBUG_TRANSLATION=false

# ===== 生产环境配置示例 =====
# 高性能配置
# MONOLITH_TRANSLATION_BATCH_MAX_BATCH_SIZE=15000
# MONOLITH_TRANSLATION_PERFORMANCE_MAX_CONCURRENT_REQUESTS=20
# MONOLITH_TRANSLATION_CACHE_LOCAL_CACHE_SIZE=5000

# 远程 DeepLX 服务配置示例
# MONOLITH_TRANSLATION_BASE_DEEPLX_API_URL=https://deepl-api.example.com/translate?token=your-token

# ===== 安全配置 =====
# API 密钥（如果需要）
# API_KEY=your-api-key-here
# API_SECRET=your-api-secret-here

# 允许的来源（CORS）
# ALLOWED_ORIGINS=http://localhost:3000,https://your-domain.com

# ===== 文件说明 =====
# 1. 环境变量优先级：
#    .env.local > .env.development > .env.production > .env
#
# 2. 配置加载顺序：
#    环境变量 > .env文件 > 配置文件(toml) > 默认值
#
# 3. 环境变量命名规则：
#    MONOLITH_TRANSLATION_[section]_[key]
#    例：MONOLITH_TRANSLATION_BASE_TARGET_LANG
#
# 4. 布尔值配置：
#    true/false, yes/no, 1/0 都可以识别
#
# 5. 数值配置：
#    支持整数和浮点数，会自动转换类型
#
# 6. 时间配置：
#    配置文件中以秒为单位，如 3600 表示1小时